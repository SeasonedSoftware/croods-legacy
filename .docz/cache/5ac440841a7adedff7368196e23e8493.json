{"remainingRequest":"/Users/milesdavis/workspace/croods/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/preset-env\",{\"modules\":false}],\"@babel/preset-react\",\"@babel/preset-flow\",\"@babel/preset-typescript\",[\"/Users/milesdavis/workspace/croods/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"syntax-async-functions\",\"transform-async-to-generator\",\"transform-regenerator\",\"@babel/plugin-transform-runtime\",\"@babel/plugin-proposal-function-bind\",[\"/Users/milesdavis/workspace/croods/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/milesdavis/workspace/croods/node_modules/react-hot-loader/babel.js\"],\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/milesdavis/workspace/croods/src/apiReducer.js","dependencies":[{"path":"/Users/milesdavis/workspace/croods/src/apiReducer.js","mtime":1545044906000},{"path":"/Users/milesdavis/workspace/croods/node_modules/cache-loader/dist/cjs.js","mtime":1547833067000},{"path":"/Users/milesdavis/workspace/croods/node_modules/babel-loader/lib/index.js","mtime":1547833067000}],"contextDependencies":[],"result":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport split from 'lodash/split';\nimport first from 'lodash/first';\nimport last from 'lodash/last';\nimport includes from 'lodash/includes';\nimport initial from 'lodash/initial';\nimport join from 'lodash/join';\nexport var parseApiType = function parseApiType(type) {\n  var _split = split(type, '/'),\n      _split2 = _slicedToArray(_split, 2),\n      actionSuffix = _split2[1];\n\n  var parsedType = split(actionSuffix, '_');\n  var suffix = last(parsedType);\n  var prefix = join(initial(parsedType), '_');\n  return [prefix, suffix];\n};\nexport var apiPrefix = function apiPrefix(type) {\n  return first(parseApiType(type));\n};\nexport var apiSuffix = function apiSuffix(type) {\n  return last(parseApiType(type));\n};\nexport var isApiAction = function isApiAction(type) {\n  return includes(['REQUEST', 'SUCCESS', 'FAILURE'], apiSuffix(type));\n};\n\nvar _default = function _default(api, reducer) {\n  return function (state, action) {\n    var computedState = state || reducer();\n\n    if (!action) {\n      return computedState;\n    }\n\n    if (isApiAction(action.type)) {\n      return api(computedState, action);\n    }\n\n    return reducer(computedState, action);\n  };\n};\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(parseApiType, \"parseApiType\", \"/Users/milesdavis/workspace/croods/src/apiReducer.js\");\n  reactHotLoader.register(apiPrefix, \"apiPrefix\", \"/Users/milesdavis/workspace/croods/src/apiReducer.js\");\n  reactHotLoader.register(apiSuffix, \"apiSuffix\", \"/Users/milesdavis/workspace/croods/src/apiReducer.js\");\n  reactHotLoader.register(isApiAction, \"isApiAction\", \"/Users/milesdavis/workspace/croods/src/apiReducer.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/milesdavis/workspace/croods/src/apiReducer.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/milesdavis/workspace/croods/src/apiReducer.js"],"names":["split","first","last","includes","initial","join","parseApiType","type","actionSuffix","parsedType","suffix","prefix","apiPrefix","apiSuffix","isApiAction","api","reducer","state","action","computedState"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,cAAlB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI,EAAI;AAAA,eACTP,KAAK,CAACO,IAAD,EAAO,GAAP,CADI;AAAA;AAAA,MACzBC,YADyB;;AAElC,MAAMC,UAAU,GAAGT,KAAK,CAACQ,YAAD,EAAe,GAAf,CAAxB;AACA,MAAME,MAAM,GAAGR,IAAI,CAACO,UAAD,CAAnB;AACA,MAAME,MAAM,GAAGN,IAAI,CAACD,OAAO,CAACK,UAAD,CAAR,EAAsB,GAAtB,CAAnB;AACA,SAAO,CAACE,MAAD,EAASD,MAAT,CAAP;AACD,CANM;AAQP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,CAAAL,IAAI;AAAA,SAAIN,KAAK,CAACK,YAAY,CAACC,IAAD,CAAb,CAAT;AAAA,CAAtB;AACP,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAAAN,IAAI;AAAA,SAAIL,IAAI,CAACI,YAAY,CAACC,IAAD,CAAb,CAAR;AAAA,CAAtB;AAEP,OAAO,IAAMO,WAAW,GAAG,SAAdA,WAAc,CAAAP,IAAI;AAAA,SAC7BJ,QAAQ,CAAC,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAAD,EAAoCU,SAAS,CAACN,IAAD,CAA7C,CADqB;AAAA,CAAxB;;eAGQ,kBAACQ,GAAD,EAAMC,OAAN;AAAA,SAAkB,UAACC,KAAD,EAAQC,MAAR,EAAmB;AAClD,QAAMC,aAAa,GAAGF,KAAK,IAAID,OAAO,EAAtC;;AACA,QAAI,CAACE,MAAL,EAAa;AACX,aAAOC,aAAP;AACD;;AAED,QAAIL,WAAW,CAACI,MAAM,CAACX,IAAR,CAAf,EAA8B;AAC5B,aAAOQ,GAAG,CAACI,aAAD,EAAgBD,MAAhB,CAAV;AACD;;AAED,WAAOF,OAAO,CAACG,aAAD,EAAgBD,MAAhB,CAAd;AACD,GAXc;AAAA,C;;AAAf;;;;;;;;;;;;0BAdaZ,Y;0BAQAM,S;0BACAC,S;0BAEAC,W","sourcesContent":["import split from 'lodash/split'\nimport first from 'lodash/first'\nimport last from 'lodash/last'\nimport includes from 'lodash/includes'\nimport initial from 'lodash/initial'\nimport join from 'lodash/join'\n\nexport const parseApiType = type => {\n  const [, actionSuffix] = split(type, '/')\n  const parsedType = split(actionSuffix, '_')\n  const suffix = last(parsedType)\n  const prefix = join(initial(parsedType), '_')\n  return [prefix, suffix]\n}\n\nexport const apiPrefix = type => first(parseApiType(type))\nexport const apiSuffix = type => last(parseApiType(type))\n\nexport const isApiAction = type =>\n  includes(['REQUEST', 'SUCCESS', 'FAILURE'], apiSuffix(type))\n\nexport default (api, reducer) => (state, action) => {\n  const computedState = state || reducer()\n  if (!action) {\n    return computedState\n  }\n\n  if (isApiAction(action.type)) {\n    return api(computedState, action)\n  }\n\n  return reducer(computedState, action)\n}\n"]}]}